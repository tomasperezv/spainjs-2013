<div class="section">
    <h1>Subscribe and unsubscribe to a playlist</h1>
    <p class="description">You can subscribe and unsubscribe a user to a playlist by changing its <code>subscribed</code> property. Click on the button to toggle subscription.</p>

    <h3>The Javascript</h3>
    <div id="js"></div>

    <h3>The HTML</h3>
    <div id="html"></div>

    <h3>Live Example</h3>
    <div class="html-snippet" data-container="html">
        <button id="subscribe" class="sp-button"></button>
    </div>
    <script type="script/snippet" data-container="js">
        var sp = getSpotifyApi();
        var models = sp.require('$api/models');

        var subscribeButton = document.getElementById('subscribe');

        var playlist = models.Playlist.fromURI("spotify:user:spotify:playlist:3Yrvm5lBgnhzTYTXx2l55x");

        subscribeButton.addEventListener('click', toggleSubscription);

        function toggleSubscription() {
            playlist.subscribed = !playlist.subscribed;
            renderText();
        }

        function renderText() {
            subscribeButton.innerText = playlist.subscribed ? 'Unsubscribe from playlist' : 'Subscribe to playlist';
        }

        renderText();
    </script>
</div>
